<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Middleware (sihl.Middleware)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">sihl</a> &#x00BB; Middleware</nav><h1>Module <code>Middleware</code></h1><p>A middleware is a function that takes a <a href="../Http/Route/index.html#type-handler"><code>Http.Route.handler</code></a> and returns a <a href="../Http/Route/index.html#type-handler"><code>Http.Route.handler</code></a>. It is typically used to add content to the request context that is valid only during a request.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../Middleware__/Middleware_core/index.html#type-t">Middleware__.Middleware_core.t</a></code></dt><dt class="spec type" id="type-stack"><a href="#type-stack" class="anchor"></a><code><span class="keyword">type</span> stack</code><code> = <a href="../Middleware__/Middleware_core/index.html#type-stack">Middleware__.Middleware_core.stack</a></code></dt><dd><p>A middleware stack is a list of middlewares.</p></dd></dl><dl><dt class="spec value" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span class="keyword">val</span> apply : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Http/Route/index.html#type-handler">Http.Route.handler</a> <span>&#45;&gt;</span> <a href="../Http/Route/index.html#type-handler">Http.Route.handler</a></code></dt><dd><p><code>apply m h</code> applies the middleware <code>m</code> with the handler <code>h</code>, so that the middleware logic wraps the handler.</p></dd></dl><dl><dt class="spec value" id="val-apply_stack"><a href="#val-apply_stack" class="anchor"></a><code><span class="keyword">val</span> apply_stack : <a href="index.html#type-stack">stack</a> <span>&#45;&gt;</span> <a href="../Http/Route/index.html#type-t">Http.Route.t</a> <span>&#45;&gt;</span> <a href="../Http/Route/index.html#type-t">Http.Route.t</a></code></dt></dl><div class="spec module" id="module-Clickjacking"><a href="#module-Clickjacking" class="anchor"></a><code><span class="keyword">module</span> Clickjacking = <a href="../Middleware__/index.html#module-Middleware_clickjacking">Middleware__.Middleware_clickjacking</a></code></div><div class="spec module" id="module-Cookie"><a href="#module-Cookie" class="anchor"></a><code><span class="keyword">module</span> Cookie = <a href="../Middleware__/index.html#module-Middleware_cookie">Middleware__.Middleware_cookie</a></code></div><div class="spec module" id="module-Csrf"><a href="#module-Csrf" class="anchor"></a><code><span class="keyword">module</span> Csrf = <a href="../Middleware__/index.html#module-Middleware_csrf">Middleware__.Middleware_csrf</a></code></div><div class="spec module" id="module-Db"><a href="#module-Db" class="anchor"></a><code><span class="keyword">module</span> Db = <a href="../Middleware__/index.html#module-Middleware_db">Middleware__.Middleware_db</a></code></div><div class="spec module" id="module-Error"><a href="#module-Error" class="anchor"></a><code><span class="keyword">module</span> Error = <a href="../Middleware__/index.html#module-Middleware_error">Middleware__.Middleware_error</a></code></div><div class="spec module" id="module-Message"><a href="#module-Message" class="anchor"></a><code><span class="keyword">module</span> Message = <a href="../Middleware__/index.html#module-Middleware_message">Middleware__.Middleware_message</a></code></div><div class="spec module" id="module-Gzip"><a href="#module-Gzip" class="anchor"></a><code><span class="keyword">module</span> Gzip = <a href="../Middleware__/index.html#module-Middleware_gzip">Middleware__.Middleware_gzip</a></code></div><div class="spec module" id="module-Security"><a href="#module-Security" class="anchor"></a><code><span class="keyword">module</span> Security = <a href="../Middleware__/index.html#module-Middleware_security">Middleware__.Middleware_security</a></code></div><div class="spec module" id="module-Static"><a href="#module-Static" class="anchor"></a><code><span class="keyword">module</span> Static = <a href="../Middleware__/index.html#module-Middleware_static">Middleware__.Middleware_static</a></code></div><div class="spec module" id="module-Session"><a href="#module-Session" class="anchor"></a><code><span class="keyword">module</span> Session = <a href="../Middleware__/index.html#module-Middleware_session">Middleware__.Middleware_session</a></code></div><div class="spec module" id="module-Authn"><a href="#module-Authn" class="anchor"></a><code><span class="keyword">module</span> Authn = <a href="../Middleware__/index.html#module-Middleware_authn">Middleware__.Middleware_authn</a></code></div><dl><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val</span> error : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-static"><a href="#val-static" class="anchor"></a><code><span class="keyword">val</span> static : <span>local_path_f:<span>(unit <span>&#45;&gt;</span> string)</span></span> <span>&#45;&gt;</span> <span>uri_prefix_f:<span>(unit <span>&#45;&gt;</span> string)</span></span> <span>&#45;&gt;</span> <span>?&#8288;headers:Cohttp.Header.t</span> <span>&#45;&gt;</span> <span>?&#8288;etag_of_fname:<span>(string <span>&#45;&gt;</span> string)</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-cookie"><a href="#val-cookie" class="anchor"></a><code><span class="keyword">val</span> cookie : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>name:string</span> <span>&#45;&gt;</span> <span>(<a href="../Http/Route/index.html#type-handler">Http.Route.handler</a> <span>&#45;&gt;</span> <a href="../Http/Route/index.html#type-handler">Http.Route.handler</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create ~name (h -&gt; h)</code> create a middleware with <code>name</code>.</p></dd></dl></div></body></html>